<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-08-14 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150814" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Apache Taverna &#x2013; Scufl2-DataLink</title>
    <link rel="stylesheet" href="../../css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="../../css/site.css" />
    <link rel="stylesheet" href="../../css/print.css" media="print" />

      
    <script type="text/javascript" src="../../js/apache-maven-fluido-1.4.min.js"></script>

    
    <meta name="Notice" content="Licensed to the Apache Software Foundation (ASF) under one            or more contributor license agreements.  See the NOTICE file            distributed with this work for additional information            regarding copyright ownership.  The ASF licenses this file            to you under the Apache License, Version 2.0 (the            &quot;License&quot;); you may not use this file except in compliance            with the License.  You may obtain a copy of the License at            .              http://www.apache.org/licenses/LICENSE-2.0            .            Unless required by applicable law or agreed to in writing,            software distributed under the License is distributed on an            &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY            KIND, either express or implied.  See the License for the            specific language governing permissions and limitations            under the License." />              </head>
        <body class="topBarEnabled">
          
                        
                    
                

    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
                                  <div class="container" style="width: 90%;"><div class="nav-collapse">
            
                
                                                                                <a class="brand" href="../../"  title="Apache Taverna">

                                
                                                                                                                    <img src="../../img/taverna-logo-145x134.png" alt="Apache Taverna" />
                
                </a>
                    
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="../../index.html"  title="Home">Home</a>
</li>
                  
                      <li>      <a href="../../community/"  title="Community">Community</a>
</li>
                  
                      <li>      <a href="../../documentation/"  title="Documentation">Documentation</a>
</li>
                  
                      <li>      <a href="../../download/"  title="Download">Download</a>
</li>
                  
                      <li>      <a href="../../about/"  title="About us">About us</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Introduction <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="../../introduction/"  title="Introduction to Taverna">Introduction to Taverna</a>
</li>
                  
                      <li>      <a href="../../introduction/features"  title="Features">Features</a>
</li>
                  
                      <li>      <a href="../../introduction/why-use-workflows"  title="Why use workflows?">Why use workflows?</a>
</li>
                  
                      <li>      <a href="../../#"  title="... (TODO)">... (TODO)</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="../../documentation/"  title="Taverna docs">Taverna docs</a>
</li>
                  
                      <li>      <a href="../../documentation/glossary/"  title="Glossary">Glossary</a>
</li>
                  
                      <li>      <a href="../../documentation/scufl2/"  title="SCUFL2">SCUFL2</a>
</li>
                  
                      <li>      <a href="../../#"  title="... (TODO)">... (TODO)</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Download <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="../../download/"  title="Which Taverna to download?">Which Taverna to download?</a>
</li>
                  
                      <li>      <a href="../../download/language/"  title="Language">Language</a>
</li>
                  
                      <li>      <a href="../../download/workbench/"  title="Workbench">Workbench</a>
</li>
                  
                      <li>      <a href="../../download/command-line-tool/"  title="Command Line Tool">Command Line Tool</a>
</li>
                  
                      <li>      <a href="../../#"  title="... (TODO)">... (TODO)</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Community <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="../../community/"  title="Taverna Community">Taverna Community</a>
</li>
                  
                      <li>      <a href="../../community/lists"  title="Mailing lists">Mailing lists</a>
</li>
                  
                      <li>      <a href="../../community/contribute"  title="Contribute">Contribute</a>
</li>
                  
                      <li>      <a href="../../#"  title="... (TODO)">... (TODO)</a>
</li>
                          </ul>
      </li>
                  </ul>
          
                      <form id="search-form" action="https://www.google.com/search" method="get"  class="navbar-search pull-right" >
    
  <input value="$sitesearchValue" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://www.google.com/coop/cse/brand?form=search-form"></script>
          
                                                                            
                               <ul class="nav pull-right">
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">External Links <b class="caret"></b></a>
                <ul class="dropdown-menu">
                      <li>      <a href="https://apache.org/"  title="Apache Software Foundation">Apache Software Foundation</a>
</li>
      <li>      <a href="https://incubator.apache.org/"  title="Apache Incubator">Apache Incubator</a>
</li>
                  </ul>
              </li>
            </ul>
          
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../.././" id="bannerLeft">
                <h2>Apache Taverna</h2>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-08-14
                   </li>
                      
                
                    
      
                            </ul>
      </div>

      
                
        <div id="bodyColumn" >
                                  
            
<p>The definition of a data link.</p>

<div class="source">
<div class="source"><pre class="prettyprint">Bundle path: /workflow/\$workflowName.n3
</pre></div></div>
<p>Datalink should be described in the same file as their containing workflow.</p>
<div class="section">
<h2><a name="Identifier"></a>Identifier</h2>
<p>Each datalink is uniquely identified by their source and destination ports, in addition to the optional merge position.</p>
<p>Datalinks are globally identified as <tt>http://ns.taverna.org.uk/2010/researchObject/$researchObjectUUID/workflow/$workflow/datalink?from=$fromPort&amp;to=$toPort&amp;mergePosition=$mergePosition</tt> - for instance <a class="externalLink" href="http://ns.taverna.org.uk/2010/researchObject/28f7c554-4f35-401f-b34b-516e9a0ef731/workflow/HelloWorld/datalink?from=processor/A/out/result&amp;to=processor/B/in/db">http://ns.taverna.org.uk/2010/researchObject/28f7c554-4f35-401f-b34b-516e9a0ef731/workflow/HelloWorld/datalink?from=processor/A/out/result&amp;to=processor/B/in/db</a> defines the link in workflow &#x201c;HelloWorld&#x201d; from the output port &#x201c;result&#x201d; in the processor &#x201c;A&#x201d; going to the input port &#x201c;db&#x201d; for the processor &#x201c;B&#x201d;. As there is no mergePosition there can&#x2019;t be any other links going to the &#x201c;db&#x201d; port.</p>
<p>As these URIs can be tricky to construct or maintain, feel free to use anonymous nodes, or construct alterative URIs as &lt;datalink/$number&gt;, the number here would not have any semantic meaning except it must be unique per datalink in that workflow.</p></div>
<div class="section">
<h2><a name="Example"></a>Example</h2>
<p>workflow/Helloworld.n3: (out of Date)</p>

<div class="source">
<div class="source"><pre class="prettyprint">@base &lt;workflow/Helloworld&gt; .
@prefix scufl2: &lt;http://ns.taverna.org.uk/2010/scufl2/ontology/&gt; .
@prefix dc: &lt;http://purl.org/dc/elements/1.1/&gt; .

&lt;&gt;
    a scufl2:Workflow ;
    scufl2:name &quot;Helloworld&quot; ;
    scufl2:workflowIdentifier &lt;http://ns.taverna.org.uk/2010/workflow/00626652-55ae-4a9e-80d4-c8e9ac84e2ca/&gt; ;
    scufl2:inputWorkflowPort &lt;in/yourName&gt; ;
    scufl2:outputWorkflowPort &lt;out/results&gt; ;
    scufl2:datalink _:datalink1, &lt;datalink/5&gt;, &lt;datalink?from=processor/Hello/out/greeting&amp;to=out/results&amp;mergePosition=0&gt; ;
    scufl2:processor &lt;processor/Hello&gt; .

&lt;in/yourName&gt; a scufl2:InputWorkflowPort ;
    scufl2:name &quot;yourName&quot; ;
    scufl2:portDepth 0 .

&lt;out/results&gt; a scufl2:OutputWorkflowPort ;
    scufl2:name &quot;results&quot; .

_:datalink1 a scufl2:DataLink ;
    scufl2:receivesFrom &lt;in/yourName&gt; ;
    scufl2:sendsTo &lt;processor/Hello/in/name&gt; .

&lt;datalink/5&gt; a scufl2:DataLink ;
    scufl2:receivesFrom &lt;in/yourName&gt; ;
    scufl2:sendsTo &lt;out/results&gt; ;
    scufl2:mergePosition 1 .

&lt;datalink?from=processor/Hello/out/greeting&amp;to=out/results&amp;mergePosition=0&gt; a scufl2:DataLink ;
    scufl2:receivesFrom &lt;processor/Hello/out/greeting&gt; ;
    scufl2:sendsTo &lt;out/results&gt; ;
    scufl2:mergePosition 0 .
</pre></div></div>
<p>This example defines three datalinks.</p>
<p>The first link <tt>_:datalink1</tt> is just an anonymous node without an identifier. It defines a data link from the input port &#x201c;yourName&#x201d; to the processor input port &#x201c;name&#x201d;. This link could also have been written embedded with the workflow:</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;&gt; a scufl2:Workflow ;
  ...
    scufl2:datalink [
        scufl2:receivesFrom &lt;in/yourName&gt; ;
        scufl2:sendsTo &lt;processor/Hello/in/name&gt;
    ] .
</pre></div></div>
<p>The second datalink <tt>&lt;datalink/5&gt;&gt;</tt> defines a link directly from the workflow input port &#x201c;yourName&#x201d; to the output port &#x201c;results&#x201d;. Links must go from a scufl2:SendingPort sending to a scufl2:ReceivingPort,  meaning from a workflow input port or processor output port, going to either a workflow output port or processor input port. Several links can receive from the same sending port.  Merges</p>

<blockquote>
<p>Merges is a way Taverna allows you to connect several links to the same scufl2:ReceivingPort, that is to a processor input port or workflow output port. When executing, values from each link will be inserted into the specified scufl2:mergePosition in a new list.</p>
<p>You only need to specify scufl2:mergePosition if more than one link is connected to the same processor input port or workflow output port. If there is more than one link connected to the same receiving port, all of them need to specify a unique mergePosition, starting from 0, with no gaps. If you specify a single link to the port with a mergePosition of 0, that port input would still be wrapped in a list.</p>
</blockquote>
<p>The third datalink, specified using the &#x2018;full&#x2019; URI <tt>&lt;datalink?from=processor/Hello/out/greeting&amp;to=out/results&amp;mergePosition=0&gt;</tt>,  defines the link from the output port &#x201c;out&#x201d; in processor &#x201c;Hello&#x201d;, linking to the workflow output port &#x201c;results&#x201d;. As now two links go to that receiving port, they both need to specify a unique mergePosition. The second link specifies position 1, and the third position 0. That means that the output port will receive a list Scufl2-DataLink. The second element &#x2018;yourName&#x2019; would arrive first (as it is sent before &#x201c;Hello&#x201d; produces &#x201c;greeting&#x201d;),  but it would be arriving in position 1 rather than 0.</p>

<blockquote>
<p>URI templates not enough</p>
<p>The full URIs such as <a class="externalLink" href="http://ns.taverna.org.uk/2010/researchObject/28f7c554-4f35-401f-b34b-516e9a0ef731/workflow/HelloWorld/datalink?from=processor/A/out/result&amp;to=processor/B/in/db">http://ns.taverna.org.uk/2010/researchObject/28f7c554-4f35-401f-b34b-516e9a0ef731/workflow/HelloWorld/datalink?from=processor/A/out/result&amp;to=processor/B/in/db</a> are meant to be helpful, not defining. The workflow definitions should be complete without having to be parse these URIs. Such URIs are however useful to be able to annotate or talk about workflow elements outside of the workflow definition.</p>
<p>Although a resource is specified using a full URI which uniquely identifies it, such as in the datalink above, the resource must still be defined, such as the datalink must define the properties scufl2:receivesFrom, scufl2:sendsTo (and optionally) scufl2:mergePosition. Similarly the input port &lt;in/yourName&gt; must still be defined with a scufl2:name &#x201c;yourName&#x201d;.</p>
</blockquote>
<p>The nested resources for this workflow, such as InputProcessorPort , OutputProcessorPort, DispatchStack, IterationStrategyStack and their children should be described in the same file as owning workflow itself. Additional metadata should be added to an /annotations/ file.</p></div>
<div class="section">
<h2><a name="Properties"></a>Properties</h2>

<ul>
  
<li><i>scufl2:receivesFrom</i> (required) The <i>scufl2:SendingPort</i> this link is receiving data from.  The port must be in the same workflow as the link.</li>
  
<li><i>scufl2:sendsTo</i> (required) The <i>scufl2:ReceivingPort</i> this link is sending data to.  The port must be in the same workflow as the link.</li>
  
<li><i>scufl2:mergePosition</i> (optional) An integer, starting from 0.  Must be set where more than one datalinks <i>sendsTo</i> the same ReceivingPort.  The positions for a port must be sequentially assigned from 0 without gaps.</li>
</ul></div>
                  </div>
          </div>

    <hr/>

    <footer>
            <div class="container">
                      <div class="row">
                                      <p >Copyright &copy;                    2015
                        <a href="http://www.apache.org/">The Apache Software Foundation</a>.
            All rights reserved.      
                    
      </p>
                </div>

                <p id="poweredBy" class="pull-right">
                                                                                                                <a href="http://maven.apache.org/" title="Maven" class="builtBy">
        <img class="builtBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
                  </p>
        
                </div>
    </footer>
        </body>
</html>
